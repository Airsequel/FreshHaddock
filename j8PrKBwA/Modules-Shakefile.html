<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Modules.Shakefile</title><link href="style.css" rel="stylesheet" type="text/css" title="build" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Modules.Shakefile.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Feram's Documentation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Modules.Shakefile</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Utility Functions</a></li><li><a href="#g:2">Build Targets</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Command">Command</a><ul class="subs"><li>= <a href="#v:BuildOnly">BuildOnly</a></li><li>| <a href="#v:BuildAndPush">BuildAndPush</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:BuildMode">BuildMode</a><ul class="subs"><li>= <a href="#v:BuildAll">BuildAll</a></li><li>| <a href="#v:BuildUpdated">BuildUpdated</a></li></ul></li><li class="src short"><a href="#v:esModuleDeps">esModuleDeps</a> :: [String]</li><li class="src short"><a href="#v:buildDir">buildDir</a> :: String -&gt; String</li><li class="src short"><a href="#v:sourceDir">sourceDir</a> :: String -&gt; String</li><li class="src short"><a href="#v:removeDirectories">removeDirectories</a> :: String -&gt; Action ()</li><li class="src short"><a href="#v:clean">clean</a> :: Action ()</li><li class="src short"><a href="#v:upgrade">upgrade</a> :: Action ()</li><li class="src short"><a href="#v:yarnUpgrade">yarnUpgrade</a> :: FilePath -&gt; Action ()</li><li class="src short"><a href="#v:upgradeApiClient">upgradeApiClient</a> :: Action ()</li><li class="src short"><a href="#v:startsWithOneOf">startsWithOneOf</a> :: [String] -&gt; String -&gt; Bool</li><li class="src short"><a href="#v:isModule">isModule</a> :: String -&gt; Bool</li><li class="src short"><a href="#v:wrapMessage">wrapMessage</a> :: String -&gt; String</li><li class="src short"><a href="#v:messageForceBuild">messageForceBuild</a> :: [String] -&gt; String</li><li class="src short"><a href="#v:messageNoChange">messageNoChange</a> :: String -&gt; [String] -&gt; String</li><li class="src short"><a href="#v:messageChange">messageChange</a> :: String -&gt; [String] -&gt; String</li><li class="src short"><a href="#v:getDirsFromDiff">getDirsFromDiff</a> :: String -&gt; [String]</li><li class="src short"><a href="#v:emptyToMaybe">emptyToMaybe</a> :: Foldable t =&gt; t a -&gt; Maybe (t a)</li><li class="src short"><a href="#v:ensureNonEmpty">ensureNonEmpty</a> :: Foldable t =&gt; Maybe (t a) -&gt; Maybe (t a)</li><li class="src short"><a href="#v:dockerBuildImage">dockerBuildImage</a> :: <a href="Modules-Shakefile.html#t:Command">Command</a> -&gt; String -&gt; String -&gt; Action ()</li><li class="src short"><a href="#v:dockerBuild">dockerBuild</a> :: <a href="Modules-Shakefile.html#t:Command">Command</a> -&gt; <a href="Modules-Shakefile.html#t:BuildMode">BuildMode</a> -&gt; Action ()</li><li class="src short"><a href="#v:buildDocs">buildDocs</a> :: Action ()</li><li class="src short"><a href="#v:customShakeOptions">customShakeOptions</a> :: ShakeOptions</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Command" class="def">Command</a> <a href="src/Modules.Shakefile.html#Command" class="link">Source</a> <a href="#t:Command" class="selflink">#</a></p><div class="doc"><p>Flag to change behavior of <code><a href="Modules-Shakefile.html#v:dockerBuildImage">dockerBuildImage</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BuildOnly" class="def">BuildOnly</a></td><td class="doc"><p>Only build Docker images</p></td></tr><tr><td class="src"><a id="v:BuildAndPush" class="def">BuildAndPush</a></td><td class="doc"><p>Build and push to AWS</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BuildMode" class="def">BuildMode</a> <a href="src/Modules.Shakefile.html#BuildMode" class="link">Source</a> <a href="#t:BuildMode" class="selflink">#</a></p><div class="doc"><p>Flag to change behavior of <code><a href="Modules-Shakefile.html#v:dockerBuild">dockerBuild</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BuildAll" class="def">BuildAll</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:BuildUpdated" class="def">BuildUpdated</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:esModuleDeps" class="def">esModuleDeps</a> :: [String] <a href="src/Modules.Shakefile.html#esModuleDeps" class="link">Source</a> <a href="#v:esModuleDeps" class="selflink">#</a></p><div class="doc"><p>List of all ECMAScript module dependencies</p></div></div><div class="top"><p class="src"><a id="v:buildDir" class="def">buildDir</a> :: String -&gt; String <a href="src/Modules.Shakefile.html#buildDir" class="link">Source</a> <a href="#v:buildDir" class="selflink">#</a></p><div class="doc"><p>Get build path (all paths are relative to the root directory)</p></div></div><div class="top"><p class="src"><a id="v:sourceDir" class="def">sourceDir</a> :: String -&gt; String <a href="src/Modules.Shakefile.html#sourceDir" class="link">Source</a> <a href="#v:sourceDir" class="selflink">#</a></p><div class="doc"><p>Get source path (all paths are relative to the root directory)</p></div></div><div class="top"><p class="src"><a id="v:removeDirectories" class="def">removeDirectories</a> :: String -&gt; Action () <a href="src/Modules.Shakefile.html#removeDirectories" class="link">Source</a> <a href="#v:removeDirectories" class="selflink">#</a></p></div><h1 id="g:1">Utility Functions</h1><div class="top"><p class="src"><a id="v:clean" class="def">clean</a> :: Action () <a href="src/Modules.Shakefile.html#clean" class="link">Source</a> <a href="#v:clean" class="selflink">#</a></p><div class="doc"><p>Delete all build artifacts and files from shake's cache</p></div></div><div class="top"><p class="src"><a id="v:upgrade" class="def">upgrade</a> :: Action () <a href="src/Modules.Shakefile.html#upgrade" class="link">Source</a> <a href="#v:upgrade" class="selflink">#</a></p><div class="doc"><p>Upgrade all Modules</p></div></div><div class="top"><p class="src"><a id="v:yarnUpgrade" class="def">yarnUpgrade</a> :: FilePath -&gt; Action () <a href="src/Modules.Shakefile.html#yarnUpgrade" class="link">Source</a> <a href="#v:yarnUpgrade" class="selflink">#</a></p><div class="doc"><p>Upgrade yarn dependencies (changes `yarn.lock` file)</p></div></div><div class="top"><p class="src"><a id="v:upgradeApiClient" class="def">upgradeApiClient</a> :: Action () <a href="src/Modules.Shakefile.html#upgradeApiClient" class="link">Source</a> <a href="#v:upgradeApiClient" class="selflink">#</a></p><div class="doc"><p>Upgrade api-client</p></div></div><div class="top"><p class="src"><a id="v:startsWithOneOf" class="def">startsWithOneOf</a> :: [String] -&gt; String -&gt; Bool <a href="src/Modules.Shakefile.html#startsWithOneOf" class="link">Source</a> <a href="#v:startsWithOneOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isModule" class="def">isModule</a> :: String -&gt; Bool <a href="src/Modules.Shakefile.html#isModule" class="link">Source</a> <a href="#v:isModule" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wrapMessage" class="def">wrapMessage</a> :: String -&gt; String <a href="src/Modules.Shakefile.html#wrapMessage" class="link">Source</a> <a href="#v:wrapMessage" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:messageForceBuild" class="def">messageForceBuild</a> :: [String] -&gt; String <a href="src/Modules.Shakefile.html#messageForceBuild" class="link">Source</a> <a href="#v:messageForceBuild" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:messageNoChange" class="def">messageNoChange</a> :: String -&gt; [String] -&gt; String <a href="src/Modules.Shakefile.html#messageNoChange" class="link">Source</a> <a href="#v:messageNoChange" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:messageChange" class="def">messageChange</a> :: String -&gt; [String] -&gt; String <a href="src/Modules.Shakefile.html#messageChange" class="link">Source</a> <a href="#v:messageChange" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDirsFromDiff" class="def">getDirsFromDiff</a> :: String -&gt; [String] <a href="src/Modules.Shakefile.html#getDirsFromDiff" class="link">Source</a> <a href="#v:getDirsFromDiff" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyToMaybe" class="def">emptyToMaybe</a> :: Foldable t =&gt; t a -&gt; Maybe (t a) <a href="src/Modules.Shakefile.html#emptyToMaybe" class="link">Source</a> <a href="#v:emptyToMaybe" class="selflink">#</a></p><div class="doc"><p>Convert a possibly empty foldable to a maybe
&gt; emptyToMaybe &quot;&quot; == Nothing
&gt; emptyToMaybe &quot;text&quot; == Just &quot;text&quot;</p></div></div><div class="top"><p class="src"><a id="v:ensureNonEmpty" class="def">ensureNonEmpty</a> :: Foldable t =&gt; Maybe (t a) -&gt; Maybe (t a) <a href="src/Modules.Shakefile.html#ensureNonEmpty" class="link">Source</a> <a href="#v:ensureNonEmpty" class="selflink">#</a></p><div class="doc"><p>Convert a possibly not existant and/or empty <code>Foldable</code> to a <code>Maybe</code>
&gt; ensureNonEmpty Nothing == Nothing
&gt; ensureNonEmpty (Just &quot;&quot;) == Nothing
&gt; ensureNonEmpty (Just &quot;text&quot;) == Just &quot;text&quot;</p></div></div><h1 id="g:2">Build Targets</h1><div class="top"><p class="src"><a id="v:dockerBuildImage" class="def">dockerBuildImage</a> :: <a href="Modules-Shakefile.html#t:Command">Command</a> -&gt; String -&gt; String -&gt; Action () <a href="src/Modules.Shakefile.html#dockerBuildImage" class="link">Source</a> <a href="#v:dockerBuildImage" class="selflink">#</a></p><div class="doc"><p>Build and push a single docker image</p></div></div><div class="top"><p class="src"><a id="v:dockerBuild" class="def">dockerBuild</a> :: <a href="Modules-Shakefile.html#t:Command">Command</a> -&gt; <a href="Modules-Shakefile.html#t:BuildMode">BuildMode</a> -&gt; Action () <a href="src/Modules.Shakefile.html#dockerBuild" class="link">Source</a> <a href="#v:dockerBuild" class="selflink">#</a></p><div class="doc"><p>Build docker images of changed modules
or all modules when other files were changed.</p></div></div><div class="top"><p class="src"><a id="v:buildDocs" class="def">buildDocs</a> :: Action () <a href="src/Modules.Shakefile.html#buildDocs" class="link">Source</a> <a href="#v:buildDocs" class="selflink">#</a></p><div class="doc"><p>Generate documentation for Haskell code</p></div></div><div class="top"><p class="src"><a id="v:customShakeOptions" class="def">customShakeOptions</a> :: ShakeOptions <a href="src/Modules.Shakefile.html#customShakeOptions" class="link">Source</a> <a href="#v:customShakeOptions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="src/Modules.Shakefile.html#main" class="link">Source</a> <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>List all actions and call <code><a href="Modules-Shakefile.html#v:dockerBuild">dockerBuild</a></code> with <code><a href="Modules-Shakefile.html#v:BuildOnly">BuildOnly</a></code> per default</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>